{"version":3,"file":"HttpErrorHandler.js","sourceRoot":"","sources":["../../src/Error/HttpErrorHandler.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,6CAAwC;AACxC,6CAAwC;AACxC,mDAA8C;AAK9C,yDAAoD;AAEpD;IAiMC,YAAY,IAAY,EAAE,QAAgB,EAAE,IAAY,EAAE,IAAgB,EAAE,MAAe,EAAE,SAAkB,EAAE,YAAqB,EAAE,YAA4B;QACnK,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,uBAAU,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,IAAI,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,iBAAO,CAAC,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,YAAY,IAAI,IAAI,CAAC;QACzC,IAAI,CAAC,SAAS,GAAG,SAAS,IAAI,KAAK,CAAC;QACpC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;IAC5C,CAAC;IA/CD,WAAW,CAAC,KAA+B;QAC1C,MAAM,CAAC,IAAI,OAAO,CAAC,CAAO,OAAO,EAAE,MAAM,EAAE,EAAE;YAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC;gBAChD,IAAI,GAAG,GAAW,IAAI,CAAC,GAAG,CAAC;gBAC3B,IAAI,OAAO,GAA6B,EAAE,CAAC;gBAC3C,OAAO,CAAC,MAAM,GAAG,iBAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACtC,OAAO,CAAC,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;gBAEhC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC7C,GAAG,GAAG,iBAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvD,CAAC;gBAED,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;oBACzC,gBAAgB,CAAC,YAAY,GAAG,IAAI,uBAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAClE,IAAI,UAAU,GAAqC,EAAE,CAAC;oBACtD,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC;oBACpC,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC;oBAClC,IAAI,OAAO,GAAW,CAAC,IAAI,CAAC,IAAI,KAAK,uBAAU,CAAC,uBAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBACvG,UAAU,CAAC,OAAO,GAAG,SAAS,uBAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,SAAS,8BAA8B,OAAO,EAAE,CAAC;oBACxG,UAAU,CAAC,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,kBAAkB,EAAE,eAAe,KAAK,CAAC,IAAI,gBAAgB,OAAO,EAAE,CAAC;oBAEvG,IAAI,CAAC;wBACJ,MAAM,gBAAgB,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;oBAC3D,CAAC;oBAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;wBACd,MAAM,CAAC,GAAG,CAAC,CAAC;oBACb,CAAC;gBACF,CAAC;gBACD,IAAI,CAAC;oBACJ,IAAI,KAAK,GAAQ,EAAE,CAAC;oBAEpB,OAAO,CAAC,KAAK,CAAC,CAAC;gBAChB,CAAC;gBAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACd,MAAM,CAAC,GAAG,CAAC,CAAC;gBACb,CAAC;YACF,CAAC;QACF,CAAC,CAAA,CAAC,CAAC;IACJ,CAAC;;AAjLa,0BAAS,GAAG;IACzB;QACC,SAAS,EAAE,SAAS;QACpB,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,cAAc;QACzB,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,cAAc;QACzB,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,mBAAmB;QAC9B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,iBAAiB;QAC5B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,SAAS;QACpB,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,iBAAiB;QAC5B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,2BAA2B;QACtC,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACrG;IACD;QACC,SAAS,EAAE,iBAAiB;QAC5B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,uBAAuB;QAClC,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,uBAAuB;QAClC,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,mBAAmB;QAC9B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,mBAAmB;QAC9B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,eAAe;QAC1B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,qBAAqB;QAChC,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,oCAAoC;QAC/C,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,eAAe;QAC1B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,mBAAmB;QAC9B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,aAAa;QACxB,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,oBAAoB;QAC/B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,mBAAmB;QAC9B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,YAAY;QACvB,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,wBAAwB;QACnC,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,sBAAsB;QACjC,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,iBAAiB;QAC5B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,eAAe;QAC1B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,iBAAiB;QAC5B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;IACD;QACC,SAAS,EAAE,kBAAkB;QAC7B,MAAM,EAAE,CAAC,IAAI;QACb,OAAO,EAAE,IAAI,gBAAgB,CAAC,CAAC,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,uBAAU,CAAC,OAAO,EAAE,iBAAO,CAAC,GAAG,EAAE,KAAK,CAAC;KACtG;CAAC,CAAC;AA1JL,4CA2MC","sourcesContent":["import {EMethod} from \"../Rest/EMethod\";\r\nimport {BotHttp} from \"../Rest/BotHttp\";\r\nimport {NodeMailer} from \"./Email/NodeMailer\";\r\nimport {IEmailOptions} from \"./Email/Interfaces/IServiceOprtions\";\r\nimport {IMessageOptions} from \"./Email/Interfaces/IMessageOptions\";\r\nimport {BinanceError} from \"./BinanceError\";\r\nimport {HttpError} from \"./HttpError\";\r\nimport {EErrorType} from \"./Email/Enums/EErrorType\";\r\n\r\nexport class HttpErrorHandler {\r\n\tcode: number;\r\n\temailAddress?: string;\r\n\temailOptions?: IEmailOptions;\r\n\tprivate static emailService: NodeMailer;\r\n\tendpoint: string;\r\n\tmessage: string;\r\n\tmethod: string;\r\n\tpayload?: any[];\r\n\tport: number;\r\n\tsendEmail: boolean;\r\n\ttype: string;\r\n\turl: string;\r\n\r\n\tpublic static allErrors = [\r\n\t\t{\r\n\t\t\t\"message\": \"UNKNOWN\",\r\n\t\t\t\"code\": -1000,\r\n\t\t\thandler: new HttpErrorHandler(-1000, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"DISCONNECTED\",\r\n\t\t\t\"code\": -1001,\r\n\t\t\thandler: new HttpErrorHandler(-1001, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"UNAUTHORIZED\",\r\n\t\t\t\"code\": -1002,\r\n\t\t\thandler: new HttpErrorHandler(-1002, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"TOO_MANY_REQUESTS\",\r\n\t\t\t\"code\": -1003,\r\n\t\t\thandler: new HttpErrorHandler(-1003, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"UNEXPECTED_RESP\",\r\n\t\t\t\"code\": -1006,\r\n\t\t\thandler: new HttpErrorHandler(-1006, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"TIMEOUT\",\r\n\t\t\t\"code\": -1007,\r\n\t\t\thandler: new HttpErrorHandler(-1007, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"INVALID_MESSAGE\",\r\n\t\t\t\"code\": -1013,\r\n\t\t\thandler: new HttpErrorHandler(-1013, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"UNKNOWN_ORDER_COMPOSITION\",\r\n\t\t\t\"code\": -1014,\r\n\t\t\thandler: new HttpErrorHandler(1014, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"TOO_MANY_ORDERS\",\r\n\t\t\t\"code\": -1015,\r\n\t\t\thandler: new HttpErrorHandler(-1015, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"SERVICE_SHUTTING_DOWN\",\r\n\t\t\t\"code\": -1016,\r\n\t\t\thandler: new HttpErrorHandler(-1016, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"UNSUPPORTED_OPERATION\",\r\n\t\t\t\"code\": -1020,\r\n\t\t\thandler: new HttpErrorHandler(-1020, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"INVALID_TIMESTAMP\",\r\n\t\t\t\"code\": -1021,\r\n\t\t\thandler: new HttpErrorHandler(-1021, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"INVALID_SIGNATURE\",\r\n\t\t\t\"code\": -1022,\r\n\t\t\thandler: new HttpErrorHandler(-1022, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"ILLEGAL_CHARS\",\r\n\t\t\t\"code\": -1100,\r\n\t\t\thandler: new HttpErrorHandler(-1100, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"TOO_MANY_PARAMETERS\",\r\n\t\t\t\"code\": -1101,\r\n\t\t\thandler: new HttpErrorHandler(-1101, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"MANDATORY_PARAM_EMPTY_OR_MALFORMED\",\r\n\t\t\t\"code\": -1102,\r\n\t\t\thandler: new HttpErrorHandler(-1102, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"UNKNOWN_PARAM\",\r\n\t\t\t\"code\": -1103,\r\n\t\t\thandler: new HttpErrorHandler(-1103, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"UNREAD_PARAMETERS\",\r\n\t\t\t\"code\": -1104,\r\n\t\t\thandler: new HttpErrorHandler(-1104, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"PARAM_EMPTY\",\r\n\t\t\t\"code\": -1105,\r\n\t\t\thandler: new HttpErrorHandler(-1105, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"PARAM_NOT_REQUIRED\",\r\n\t\t\t\"code\": -1106,\r\n\t\t\thandler: new HttpErrorHandler(-1106, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"INVALID_PARAMETER\",\r\n\t\t\t\"code\": -1130,\r\n\t\t\thandler: new HttpErrorHandler(-1130, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"BAD_API_ID\",\r\n\t\t\t\"code\": -2008,\r\n\t\t\thandler: new HttpErrorHandler(-2008, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"DUPLICATE_API_KEY_DESC\",\r\n\t\t\t\"code\": -2009,\r\n\t\t\thandler: new HttpErrorHandler(-2009, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"INSUFFICIENT_BALANCE\",\r\n\t\t\t\"code\": -2010,\r\n\t\t\thandler: new HttpErrorHandler(-2010, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"CANCEL_ALL_FAIL\",\r\n\t\t\t\"code\": -2012,\r\n\t\t\thandler: new HttpErrorHandler(-2012, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"NO_SUCH_ORDER\",\r\n\t\t\t\"code\": -2013,\r\n\t\t\thandler: new HttpErrorHandler(-2013, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"BAD_API_KEY_FMT\",\r\n\t\t\t\"code\": -2014,\r\n\t\t\thandler: new HttpErrorHandler(-2014, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"message\": \"REJECTED_MBX_KEY\",\r\n\t\t\t\"code\": -2015,\r\n\t\t\thandler: new HttpErrorHandler(-2015, \"http://localhost\", 4001, EErrorType.Binance, EMethod.GET, false)\r\n\t\t}];\r\n\thandleError(error: BinanceError | HttpError): Promise<any> {\r\n\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\tif (this.port !== null && this.method !== null) {\r\n\t\t\t\tlet url: string = this.url;\r\n\t\t\t\tlet reqOpts: RequestInit = <RequestInit>{};\r\n\t\t\t\treqOpts.method = EMethod[this.method];\r\n\t\t\t\treqOpts.headers = new Headers();\r\n\r\n\t\t\t\tif (this.payload && this.payload.length > 0) {\r\n\t\t\t\t\turl = BotHttp.buildUrl(this.url, false, this.payload);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.sendEmail && this.emailOptions) {\r\n\t\t\t\t\tHttpErrorHandler.emailService = new NodeMailer(this.emailOptions);\r\n\t\t\t\t\tlet msgOptions: IMessageOptions = <IMessageOptions>{};\r\n\t\t\t\t\tmsgOptions.from = this.emailAddress;\r\n\t\t\t\t\tmsgOptions.to = this.emailAddress;\r\n\t\t\t\t\tlet message: string = (this.type === EErrorType[EErrorType.Binance]) ? error['msg'] : error['message'];\r\n\t\t\t\t\tmsgOptions.subject = `A new ${EErrorType[this.type] || \"Unknown\"} error has been received | ${message}`;\r\n\t\t\t\t\tmsgOptions.text = `${new Date().toLocaleDateString()} : \\n Code: ${error.code} \\n Message: ${message}`;\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait HttpErrorHandler.emailService.sendEmail(msgOptions);\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet fetch: any = {};\r\n\t\t\t\t\t//fetch = await BotHttp.fetch(url, reqOpts);\r\n\t\t\t\t\tresolve(fetch);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconstructor(code: number, endpoint: string, port: number, type: EErrorType, method: EMethod, sendEmail: boolean, emailAddress?: string, emailOptions?: IEmailOptions) {\r\n\t\tthis.code = code;\r\n\t\tthis.type = EErrorType[type];\r\n\t\tthis.port = port || null;\r\n\t\tthis.method = EMethod[method];\r\n\t\tthis.emailAddress = emailAddress || null;\r\n\t\tthis.sendEmail = sendEmail || false;\r\n\t\tthis.endpoint = endpoint;\r\n\t\tthis.url = `${this.endpoint}:${this.port}`;\r\n\t}\r\n}\r\n"]}