{
  "version": 3,
  "file": "HttpError.js",
  "sourceRoot": "",
  "sources": [
    "../../src/Error/HttpError.ts"
  ],
  "names": [],
  "mappings": ";;AAEA,eAAuB,SAAQ,KAAK;IAInC,YAAY,GAAW,EAAE,IAAY;QACpC,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IAClB,CAAC;CACD;AATD,8BASC;AAED;IAyCQ,MAAM,CAAC,cAAc,CAAC,IAAY;QACxC,IAAI,QAAQ,GAAgB,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;QACnF,IAAI,MAAiB,CAAC;QACtB,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IACf,CAAC;IAEM,MAAM,CAAC,yBAAyB,CAAC,GAAc;QACrD,IAAI,QAAgB,CAAC;QACrB,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACpB,IAAI,GAAG,GAAW,kBAAkB,CAAC;YACrC,IAAI,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC;YACjD,IAAI,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAE,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC;YAC/D,QAAQ,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;YAC5B,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC5B,MAAM,GAAG,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YACvC,CAAC;QACF,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IACf,CAAC;;AA9Da,aAAG,GAA6B,CAAC,EAAC,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QACjF,KAAK,EAAE,cAAc;QACrB,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,KAAK,EAAE,mBAAmB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QACvF,KAAK,EAAE,iBAAiB;QACxB,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QAChF,KAAK,EAAE,2BAA2B;QAClC,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QAC7C,KAAK,EAAE,uBAAuB;QAC9B,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,uBAAuB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QACnD,KAAK,EAAE,mBAAmB;QAC1B,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,mBAAmB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QAC/C,KAAK,EAAE,eAAe;QACtB,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,qBAAqB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QACjD,KAAK,EAAE,oCAAoC;QAC3C,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,KAAK,EAAE,mBAAmB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QACxF,KAAK,EAAE,aAAa;QACpB,MAAM,EAAE,CAAC,IAAI;KACb,EAAE;QACF,KAAK,EAAE,oBAAoB;QAC3B,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QAC9M,KAAK,EAAE,mBAAmB;QAC1B,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QACxC,KAAK,EAAE,wBAAwB;QAC/B,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,sBAAsB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE;QAC7F,KAAK,EAAE,eAAe;QACtB,MAAM,EAAE,CAAC,IAAI;KACb,EAAE,EAAC,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,EAAE,EAAC,KAAK,EAAE,kBAAkB,EAAE,MAAM,EAAE,CAAC,IAAI,EAAC,CAAC,CAAC;AArC3F,8BAgEC;AAED;;AACe,mBAAG,GAAyC,CAAC;QAC1D,MAAM,EAAE,UAAU;QAClB,WAAW,EAAE,IAAI;QACjB,OAAO,EAAE,KAAK;QACd,SAAS,EAAE,CAAC;QACZ,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;KACtE,EAAE;QACF,MAAM,EAAE,WAAW;QACnB,WAAW,EAAE,KAAK;QAClB,OAAO,EAAE,IAAI;QACb,SAAS,EAAE,CAAC;QACZ,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC;KACrE,EAAE;QACF,MAAM,EAAE,OAAO;QACf,WAAW,EAAE,KAAK;QAClB,OAAO,EAAE,IAAI;QACb,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;KAC5B,EAAE,EAAC,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC;AAnBvH,0CAyBC;AAED;;AACe,cAAG,GAAiB,EAAE,CAAC;AADtC,gCAIC;AAED;IAKC,IAAI,MAAM;QACT,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACrB,CAAC;IAED,IAAI,MAAM,CAAC,KAAsB;QAChC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACtB,CAAC;IAID,IAAI,KAAK;QACR,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACpB,CAAC;IAED,IAAI,KAAK,CAAC,KAAgB;QACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACrB,CAAC;IAEM,OAAO;IAGd,CAAC;IAED,YAAY,IAAY;QACvB,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAE7C,CAAC;CACD;AAhCD,oCAgCC",
  "sourcesContent": [
    "import {NodeMailer} from \"./Email/App\";\n\nexport class HttpError extends Error{\n\tcode:number;\n\tmessage:string;\n\n\tconstructor(msg: string, code: number) {\n\t\tsuper();\n\t\tthis.message = msg;\n\t\tthis.code = code;\n\t}\n}\n\nexport class ErrorCode {\n\tpublic static all: ErrorCode[] = <ErrorCode[]>[{\"msg\": \"UNKNOWN\", \"code\": -1000}, {\n\t\t\"msg\": \"DISCONNECTED\",\n\t\t\"code\": -1001\n\t}, {\"msg\": \"UNAUTHORIZED\", \"code\": -1002}, {\"msg\": \"TOO_MANY_REQUESTS\", \"code\": -1003}, {\n\t\t\"msg\": \"UNEXPECTED_RESP\",\n\t\t\"code\": -1006\n\t}, {\"msg\": \"TIMEOUT\", \"code\": -1007}, {\"msg\": \"INVALID_MESSAGE\", \"code\": -1013}, {\n\t\t\"msg\": \"UNKNOWN_ORDER_COMPOSITION\",\n\t\t\"code\": -1014\n\t}, {\"msg\": \"TOO_MANY_ORDERS\", \"code\": -1015}, {\n\t\t\"msg\": \"SERVICE_SHUTTING_DOWN\",\n\t\t\"code\": -1016\n\t}, {\"msg\": \"UNSUPPORTED_OPERATION\", \"code\": -1020}, {\n\t\t\"msg\": \"INVALID_TIMESTAMP\",\n\t\t\"code\": -1021\n\t}, {\"msg\": \"INVALID_SIGNATURE\", \"code\": -1022}, {\n\t\t\"msg\": \"ILLEGAL_CHARS\",\n\t\t\"code\": -1100\n\t}, {\"msg\": \"TOO_MANY_PARAMETERS\", \"code\": -1101}, {\n\t\t\"msg\": \"MANDATORY_PARAM_EMPTY_OR_MALFORMED\",\n\t\t\"code\": -1102\n\t}, {\"msg\": \"UNKNOWN_PARAM\", \"code\": -1103}, {\"msg\": \"UNREAD_PARAMETERS\", \"code\": -1104}, {\n\t\t\"msg\": \"PARAM_EMPTY\",\n\t\t\"code\": -1105\n\t}, {\n\t\t\"msg\": \"PARAM_NOT_REQUIRED\",\n\t\t\"code\": -1106\n\t}, {\"code\": -1112}, {\"code\": -1114}, {\"code\": -1115}, {\"code\": -1116}, {\"code\": -1117}, {\"code\": -1118}, {\"code\": -1119}, {\"code\": -1120}, {\"code\": -1121}, {\"code\": -1125}, {\"code\": -1127}, {\"code\": -1128}, {\n\t\t\"msg\": \"INVALID_PARAMETER\",\n\t\t\"code\": -1130\n\t}, {\"msg\": \"BAD_API_ID\", \"code\": -2008}, {\n\t\t\"msg\": \"DUPLICATE_API_KEY_DESC\",\n\t\t\"code\": -2009\n\t}, {\"msg\": \"INSUFFICIENT_BALANCE\", \"code\": -2010}, {\"msg\": \"CANCEL_ALL_FAIL\", \"code\": -2012}, {\n\t\t\"msg\": \"NO_SUCH_ORDER\",\n\t\t\"code\": -2013\n\t}, {\"msg\": \"BAD_API_KEY_FMT\", \"code\": -2014}, {\"msg\": \"REJECTED_MBX_KEY\", \"code\": -2015}];\n\tcode: number;\n\tmsg: string;\n\n\tpublic static GetErrorByCode(code: number): ErrorCode | null {\n\t\tlet filtered: ErrorCode[] = ErrorCode.all.filter(handler => handler.code === code);\n\t\tlet result: ErrorCode;\n\t\tif (filtered && filtered.length > 0) {\n\t\t\tresult = filtered[0];\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic static GetTimeoutFromIPBannedMsg(err: ErrorCode): number {\n\t\tlet strFloat: string;\n\t\tlet result: number = 0;\n\t\tif (err && err.msg) {\n\t\t\tlet msg: string = \"IP banned until \";\n\t\t\tlet startIdx = err.msg.indexOf(msg) + msg.length;\n\t\t\tlet float = parseFloat(err.msg.slice(startIdx, startIdx + 13));\n\t\t\tstrFloat = float.toString();\n\t\t\tif (strFloat.length === 13) {\n\t\t\t\tresult = float - new Date().getTime();\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nexport class ErrorResolution {\n\tpublic static all: ErrorResolution[] = <ErrorResolution[]>[{\n\t\t\"name\": \"shutdown\",\n\t\t\"sendEmail\": true,\n\t\t\"retry\": false,\n\t\t\"timeout\": 0,\n\t\tcodes: [-1102, -2015, -2014, -1002, -1121, -1116, -1115, -1117, -2008]\n\t}, {\n\t\t\"name\": \"doNothing\",\n\t\t\"sendEmail\": false,\n\t\t\"retry\": true,\n\t\t\"timeout\": 0,\n\t\tcodes: [-1127, -1006, -1015, -1014, -1013, -1101, -1003, -1106, 1104]\n\t}, {\n\t\t\"name\": \"retry\",\n\t\t\"sendEmail\": false,\n\t\t\"retry\": true,\n\t\t\"timeout\": 10000,\n\t\tcodes: [-1021, -1125, -2012]\n\t}, {\"name\": \"restart\", \"sendEmail\": false, \"retry\": false, \"timeout\": 0, codes: [-1002, -1016, -1000, -1007, -1006]}];\n\tcodes: number[];\n\tname: string;\n\tretry: boolean;\n\tsendEmail: boolean;\n\ttimeout: number;\n}\n\nexport class ErrorGroup {\n\tpublic static all: ErrorGroup[] = [];\n\tcodes: number[];\n\tgroup: string;\n}\n\nexport class ErrorHandler {\n\tpublic static nodeMailer: NodeMailer;\n\n\tprivate _action: ErrorResolution;\n\n\tget action(): ErrorResolution {\n\t\treturn this._action;\n\t}\n\n\tset action(value: ErrorResolution) {\n\t\tthis._action = value;\n\t}\n\n\tprivate _error: ErrorCode;\n\n\tget error(): ErrorCode {\n\t\treturn this._error;\n\t}\n\n\tset error(value: ErrorCode) {\n\t\tthis._error = value;\n\t}\n\n\tpublic execute() {\n\t\t//send email\n\t\t//set timeout\n\t}\n\n\tconstructor(code: number) {\n\t\tthis.error = ErrorCode.GetErrorByCode(code);\n\t\t//TODO: this.action;\n\t}\n}\n"
  ]
}