{"version":3,"file":"NodeMailer.js","sourceRoot":"","sources":["../../src/Error/NodeMailer.ts"],"names":[],"mappings":";;AAAA,yCAAyC;AAKzC;IAGQ,SAAS,CAAC,OAAwB;QACxC,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAC,EAAE;YAErC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACd,MAAM,CAAC,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC,CAAC;YACvD,CAAC;YAED,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAA0B,EAAE,EAAE;gBACrE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACX,MAAM,CAAC,KAAK,CAAC,CAAC;gBACf,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACxB,CAAC;YACF,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAA;IACH,CAAC;IAED,YAAY,cAA4B;QACvC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;IAC5D,CAAC;CACD;AAvBD,gCAuBC","sourcesContent":["import * as nodeMailer from \"nodemailer\";\r\nimport {IMessageOptions} from \"./Interfaces/IMessageOptions\";\r\nimport {NodeMailerService} from \"./Types/Types\";\r\nimport {ISmtpOptions} from \"./Interfaces/ISmtpOptions\";\r\n\r\nexport class NodeMailer {\r\n\tprivate _service: NodeMailerService;\r\n\r\n\tpublic sendEmail(msgOpts: IMessageOptions): Promise<any> {\r\n\t\treturn new Promise((resolve, reject)=>{\r\n\r\n\t\t\tif (!msgOpts) {\r\n\t\t\t\treject(new Error(\"Service Options must be provided\"));\r\n\t\t\t}\r\n\r\n\t\t\tthis._service.sendMail(msgOpts, (error, info: { response: string }) => {\r\n\t\t\t\tif (error) {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve(info.response);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tconstructor(serviceOptions: ISmtpOptions) {\r\n\t\tthis._service = nodeMailer.createTransport(serviceOptions);\r\n\t}\r\n}\r\n"]}