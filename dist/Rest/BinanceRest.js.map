{
  "version": 3,
  "file": "BinanceRest.js",
  "sourceRoot": "",
  "sources": [
    "../../src/Rest/BinanceRest.ts"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import {BBRest} from \"./BBRest\";\r\nimport {ICallOpts} from \"./Interfaces/ICallOpts\";\r\nimport {EMethod} from \"./EMethod\";\r\nimport {IListenKey} from \"./IListenKey\";\r\nimport {iBinanceOptions} from \"../Binance/Interfaces/iBinanceOptions\";\r\nimport {IOutboundAccountInfoRaw} from \"../Account/Interfaces/IOutboundAccountInfoRaw\";\r\nimport {OutboundAccountInfo} from \"../Account/OutboundAccountInfo\";\r\n\r\nexport class BinanceRest extends BBRest {\r\n\tpublic listenKey: IListenKey;\r\n\tpublic user:any;\r\n\tpublic userEventHandler:Function;\r\n\r\n\tpublic closeDataStream():Promise<object>{\r\n\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\tlet result: object;\r\n\t\t\ttry{\r\n\t\t\t\tlet callOpts: ICallOpts = <ICallOpts>{};\r\n\t\t\t\tcallOpts.method = EMethod.DELETE;\r\n\t\t\t\tcallOpts.noData = false;\r\n\t\t\t\tcallOpts.noExtra = true;\r\n\t\t\t\tresult = await this._call('/v1/userDataStream', this.listenKey, callOpts);\r\n\t\t\t\tresolve(result);\r\n\t\t\t}catch(err){\r\n\t\t\t\treject(err);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic getDataStream(): Promise<IListenKey> {\r\n\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\ttry{\r\n\t\t\t\tlet callOpts: ICallOpts = <ICallOpts>{};\r\n\t\t\t\tcallOpts.method = EMethod.POST;\r\n\t\t\t\tcallOpts.noData = true;\r\n\t\t\t\tthis.listenKey = <IListenKey> await this._call('/v1/userDataStream', null, callOpts);\r\n\t\t\t\tresolve(this.listenKey);\r\n\t\t\t}catch(err){\r\n\t\t\t\treject(err);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic keepDataStream():Promise<object>{\r\n\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\tlet result: object;\r\n\t\t\ttry{\r\n\t\t\t\tlet callOpts: ICallOpts = <ICallOpts>{};\r\n\t\t\t\tcallOpts.method = EMethod.PUT;\r\n\t\t\t\tcallOpts.noData = false;\r\n\t\t\t\tcallOpts.noExtra = true;\r\n\t\t\t\tresult = await this._call('/v1/userDataStream', this.listenKey, callOpts);\r\n\t\t\t\tresolve(result);\r\n\t\t\t}catch(err){\r\n\t\t\t\treject(err);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconstructor(options:iBinanceOptions){\r\n\t\tsuper(options);\r\n\t\tthis.userEventHandler = cb => msg => {\r\n\t\t\tlet json = JSON.parse(msg.data);\r\n\t\t\tlet infoRaw: IOutboundAccountInfoRaw = json;\r\n\t\t\tconst { e: type, ...rest } = json;\r\n\t\t\tlet accountInfo:OutboundAccountInfo = new OutboundAccountInfo(infoRaw);\r\n\t\t\tcb(accountInfo[type] ? accountInfo[type](rest) : { type, ...rest })\r\n\t\t};\r\n\r\n\t}\r\n}"
  ]
}