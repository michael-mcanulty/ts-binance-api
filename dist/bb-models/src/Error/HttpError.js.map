{"version":3,"file":"HttpError.js","sourceRoot":"","sources":["../../../../../bb-models/src/Error/HttpError.ts"],"names":[],"mappings":"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","sourcesContent":["import {BinanceError} from \"./BinanceError\";\r\nimport {HttpErrorHandler} from \"./HttpErrorHandler\";\r\nimport {TMethod} from \"../Rest/TMethod\";\r\nimport {IHttpError} from \"./Interfaces/IHttpError\";\r\nimport {IHttpErrorHandler} from \"./Interfaces/IHttpErrorHandler\";\r\nimport {IBinanceOptions} from \"../Binance/Interfaces/IBinanceOptions\";\r\nimport {TErrorType} from \"./Enums/EErrorType\";\r\n\r\nexport class HttpError extends Error {\r\n\tpublic static fromObjLiteral(err: IHttpError){\r\n\t\tif(!err)return;\r\n\t\tlet handler: HttpErrorHandler = new HttpErrorHandler(err.handler);\r\n\t\treturn new HttpError(err.code, err.message, handler, err.isFatal);\r\n\t}\r\n\tpublic static toObjLiteral(err: HttpError){\r\n\t\tif(!err)return;\r\n\t\tlet error: IHttpError = <IHttpError>{};\r\n\t\terror.code = err.code;\r\n\t\terror.message = err.message;\r\n\t\terror.isFatal = err.isFatal || false;\r\n\t\terror.handler = <IHttpErrorHandler>{};\r\n\t\terror.handler.emailServiceOpts = err.handler.emailServiceOpts;\r\n\t\terror.handler.emailMsgOpts = err.handler.emailMsgOpts;\r\n\t\terror.handler.endpoint = err.handler.endpoint;\r\n\t\terror.handler.method = <TMethod> err.handler.method;\r\n\t\terror.handler.type = <TErrorType> err.handler.type;\r\n\t\terror.handler.payload = err.handler.payload;\r\n\t\terror.handler.restartSingleWorker = err.handler.restartSingleWorker;\r\n\t\terror.handler.sendEmail = err.handler.sendEmail;\r\n\t\terror.handler.sendText = err.handler.sendText;\r\n\t\treturn error;\r\n\t}\r\n\tpublic static allErrors: HttpError[];\r\n\tpublic static _objErrors: IHttpError[] = [\r\n\t\t{\r\n\t\t\tcode: 88880, message: \"MongoNetworkError\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'MongoDB',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true,\r\n\t\t\t\t//Only kill the worker. The DB is accessed using a worker and only on the data server.\r\n\t\t\t\tendpoint: [\"http://localhost:3001/kill\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: 127, message: \"ECONNREFUSED\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Node',\r\n\t\t\t\tsendEmail: false,\r\n\t\t\t\tsendText: false\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: 401, message: \"UNAUTHORIZED\", isFatal: true,\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Node',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3002/kill/app\", \"http://localhost:3001/kill/app\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1000, message: \"UNKNOWN\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1001, message: \"DISCONNECTED\", isFatal: false,\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3002/kill/workers\", \"http://localhost:3001/kill/workers\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1002, message: \"UNAUTHORIZED\", isFatal: true,\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3002/kill/app\", \"http://localhost:3001/kill/app\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1003, message: \"TOO_MANY_REQUESTS\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1006, message: \"UNEXPECTED_RESP\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1007, message: \"TIMEOUT\", isFatal: false,\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3002/kill/workers\", \"http://localhost:3001/kill/workers\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1013, message: \"INVALID_MESSAGE\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: false,\r\n\t\t\t\tsendText: false,\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1014, message: \"UNKNOWN_ORDER_COMPOSITION\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: false,\r\n\t\t\t\tsendText: false,\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1015, message: \"TOO_MANY_ORDERS\", isFatal: false,\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true,\r\n\t\t\t\trestartSingleWorker: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3001/kill\", \"http://localhost:3002/kill\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1016, message: \"SERVICE_SHUTTING_DOWN\", isFatal: true,\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3001/kill/app\", \"http://localhost:3002/kill/app\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1020, message: \"UNSUPPORTED_OPERATION\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1021, message: \"INVALID_TIMESTAMP\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -1022, message: \"INVALID_SIGNATURE\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1100, message: \"ILLEGAL_CHARS\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1101, message: \"TOO_MANY_PARAMETERS\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1102, message: \"MANDATORY_PARAM_EMPTY_OR_MALFORMED\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1103, message: \"UNKNOWN_PARAM\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1104, message: \"UNREAD_PARAMETERS\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1105, message: \"PARAM_EMPTY\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1106, message: \"PARAM_NOT_REQUIRED\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -1130, message: \"INVALID_PARAMETER\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -2008, message: \"BAD_API_ID\", isFatal: true,\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3001/kill/app\", \"http://localhost:3002/kill/app\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -2009, message: \"DUPLICATE_API_KEY_DESC\", isFatal: true,\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3001/kill/app\", \"http://localhost:3002/kill/app\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -2010, message: \"INSUFFICIENT_BALANCE\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: false,\r\n\t\t\t\tsendEmail: false\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -2012, message: \"CANCEL_ALL_FAIL\",\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -2013, message: \"NO_SUCH_ORDER\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcode: -2014, message: \"BAD_API_KEY_FMT\", isFatal: true,\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true,\r\n\t\t\t\tendpoint: [\"http://localhost:3001/kill/app\", \"http://localhost:3002/kill/app\"],\r\n\t\t\t\tmethod: 'POST'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\r\n\t\t\tcode: -2015, message: \"REJECTED_MBX_KEY\",\r\n\r\n\t\t\thandler: <IHttpErrorHandler> {\r\n\t\t\t\ttype: 'Binance',\r\n\t\t\t\tsendText: true,\r\n\t\t\t\tsendEmail: true\r\n\t\t\t}\r\n\t\t},\r\n\t];\r\n\tcode: number;\r\n\thandler?: HttpErrorHandler;\r\n\tisFatal?: boolean;\r\n\tmessage: string;\r\n\r\n\t/*public static GetTimeoutFromIPBannedMsg(err: BinanceError): number {\r\n\t\tlet strFloat: string;\r\n\t\tlet result: number = 0;\r\n\t\tif (err && err.msg) {\r\n\t\t\tlet msg: string = \"IP banned until \";\r\n\t\t\tlet startIdx = err.msg.indexOf(msg) + msg.length;\r\n\t\t\tlet float = parseFloat(err.msg.slice(startIdx, startIdx + 13));\r\n\t\t\tstrFloat = float.toString();\r\n\t\t\tif (strFloat.length === 13) {\r\n\t\t\t\tresult = float - new Date().getTime();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}*/\r\n\r\n\tprivate static _getErrorHandler(error: HttpError): HttpErrorHandler | null {\r\n\t\tif(!HttpError.allErrors || HttpError.allErrors.length === 0){\r\n\t\t\tlet match: IHttpError[] = HttpError._objErrors.filter(err => err.code === error.code);\r\n\t\t\tif (Array.isArray(match) && typeof match[0] === \"object\") {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tlet match: HttpError[] = HttpError.allErrors.filter(err => err.code === error.code);\r\n\t\t\tif (Array.isArray(match) && typeof match[0] === \"object\" && typeof match[0].handler === \"object\" && match[0].handler instanceof HttpErrorHandler) {\r\n\t\t\t\treturn match[0].handler;\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static _getErrorParameters(err: BinanceError | HttpError): { code: number, message: string } {\r\n\t\tlet code: number = parseInt(err.code.toString());\r\n\t\tlet type: TErrorType = HttpError._getErrorType(err);\r\n\t\tlet message: TErrorType = (type === 'Binance') ? err['msg'] : err['message'];\r\n\t\treturn {code: code, message: message};\r\n\t}\r\n\r\n\tprivate static _getErrorType(err: BinanceError | HttpError): TErrorType {\r\n\t\tlet code: number = parseInt(err.code.toString());\r\n\t\tlet isBinance: boolean = false;\r\n\t\tif (typeof err['msg'] === \"string\" && code < 0) {\r\n\t\t\tisBinance = true;\r\n\t\t} else if (typeof err['message'] === \"string\") {\r\n\t\t\tisBinance = false;\r\n\t\t}\r\n\t\treturn (isBinance)?'Binance':'Node';\r\n\t}\r\n\r\n\tpublic static fromError(err: HttpError | BinanceError): HttpError {\r\n\t\tlet code: number = parseInt(err.code.toString());\r\n\t\tlet type: TErrorType = <TErrorType> HttpError._getErrorType(err);\r\n\t\tlet message: string = (type === 'Binance') ? err['msg'] : err['message'];\r\n\t\tlet _httpError: HttpError = new HttpError(code, message);\r\n\t\tif (type === 'Binance' && typeof err['handler'] === \"object\") {\r\n\t\t\t_httpError.handler = err['handler'];\r\n\t\t}\r\n\t\treturn _httpError;\r\n\t}\r\n\r\n\tpublic static getErrorByCode(code: number): HttpError | null {\r\n\t\tif(!code){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif(!HttpError.allErrors || HttpError.allErrors.length === 0){\r\n\t\t\tlet match: IHttpError[] = HttpError._objErrors.filter(err => err.code === code);\r\n\t\t\tif (Array.isArray(match) && typeof match[0] === \"object\") {\r\n\t\t\t\treturn HttpError.fromObjLiteral(match[0]);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tlet result: HttpError;\r\n\t\t\tif (HttpError.allErrors.length > 0) {\r\n\t\t\t\tlet filtered: HttpError[] = HttpError.allErrors.filter(handler => {\r\n\t\t\t\t\treturn (typeof code === \"number\" && handler.code === code);\r\n\t\t\t\t});\r\n\t\t\t\tif (filtered && filtered.length > 0) {\r\n\t\t\t\t\tresult = filtered[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static init(options: IBinanceOptions, _jsonErrs?: IHttpError[]) {\r\n\t\tHttpErrorHandler.emailServiceOptions = options.emailServiceOpts;\r\n\t\tHttpErrorHandler.emailMsgOptions = options.emailMsgOpts;\r\n\t\tHttpErrorHandler.textMsgOptions = options.textMsgOpts;\r\n\r\n\t\tif(_jsonErrs && _jsonErrs.length > 0){\r\n\t\t\t// This is if you want to set the errors from a DB or somewhere else\r\n\t\t\tHttpError._objErrors = _jsonErrs\r\n\t\t}\r\n\t\tHttpError.allErrors = HttpError._objErrors.map(err => {\r\n\t\t\terr.handler.emailMsgOpts = options.emailMsgOpts;\r\n\t\t\terr.handler.emailServiceOpts = options.emailServiceOpts;\r\n\t\t\terr.handler.textMsgOpts = options.textMsgOpts;\r\n\t\t\treturn new HttpError(err.code, err.message, new HttpErrorHandler(err.handler), err.isFatal)\r\n\t\t});\r\n\t\treturn HttpError.allErrors;\r\n\t}\r\n\r\n\tpublic static isHttpError(err: HttpError | Error) {\r\n\t\treturn err && err instanceof HttpError;\r\n\t}\r\n\r\n\tconstructor(code: number, message: string, handler?: HttpErrorHandler, isFatal?: boolean) {\r\n\t\tsuper();\r\n\t\tthis.code = code;\r\n\t\tthis.message = message;\r\n\t\tthis.isFatal = isFatal || false;\r\n\t\tif (handler) {\r\n\t\t\tthis.handler = handler;\r\n\t\t} else {\r\n\t\t\tlet errHandler: HttpErrorHandler | null = HttpError._getErrorHandler(this);\r\n\t\t\tif (errHandler !== null) {\r\n\t\t\t\tthis.handler = errHandler;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}"]}