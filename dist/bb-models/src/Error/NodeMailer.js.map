{"version":3,"file":"NodeMailer.js","sourceRoot":"","sources":["../../../../../bb-models/src/Error/NodeMailer.ts"],"names":[],"mappings":";;AAAA,yCAAyC;AAKzC;IAGQ,SAAS,CAAC,OAAwB;QACxC,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAC,EAAE;YAErC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACd,MAAM,CAAC,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC,CAAC;YACvD,CAAC;YAED,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAA0B,EAAE,EAAE;gBACrE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACX,MAAM,CAAC,KAAK,CAAC,CAAC;gBACf,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACxB,CAAC;YACF,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAA;IACH,CAAC;IAED,YAAY,cAA4B;QACvC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;IAC5D,CAAC;CACD;AAvBD,gCAuBC","sourcesContent":["import * as nodeMailer from \"nodemailer\";\nimport {IMessageOptions} from \"./Interfaces/IMessageOptions\";\nimport {ISmtpOptions} from \"./Interfaces/ISmtpOptions\";\nimport * as Mail from \"nodemailer/lib/mailer\";\n\nexport class NodeMailer {\n\tprivate _service: Mail;\n\n\tpublic sendEmail(msgOpts: IMessageOptions): Promise<any> {\n\t\treturn new Promise((resolve, reject)=>{\n\n\t\t\tif (!msgOpts) {\n\t\t\t\treject(new Error(\"Service Options must be provided\"));\n\t\t\t}\n\n\t\t\tthis._service.sendMail(msgOpts, (error, info: { response: string }) => {\n\t\t\t\tif (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(info.response);\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t}\n\n\tconstructor(serviceOptions: ISmtpOptions) {\n\t\tthis._service = nodeMailer.createTransport(serviceOptions);\n\t}\n}\n"]}