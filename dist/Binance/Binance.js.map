{"version":3,"file":"Binance.js","sourceRoot":"","sources":["../../src/Binance/Binance.ts"],"names":[],"mappings":"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","sourcesContent":["import {IBinanceOptions} from \"./Interfaces/IBinanceOptions\";\r\nimport {BotWebsocket} from \"../Websocket/BotWebsocket\";\r\nimport {Market} from \"../Market/Market\";\r\nimport {Rest} from \"../Rest/Rest\";\r\n\r\nexport class Binance {\r\n\tstatic get rest(): Rest {\r\n\t\tif(this._rest){\r\n\t\t\treturn this._rest;\r\n\t\t}else{\r\n\t\t\tthis._rest = new Rest(this.options);\r\n\t\t}\r\n\t}\r\n\tstatic get websocket(): BotWebsocket {\r\n\t\tif(this._websocket){\r\n\t\t\treturn this._websocket;\r\n\t\t}else{\r\n\t\t\tthis._websocket = new BotWebsocket(this.options);\r\n\t\t}\r\n\t}\r\n\tprivate static _markets: Market[]=[];\r\n\tstatic set markets(markets: Promise<Market[]>|Market[]){\r\n\t\t(async ()=>{\r\n\t\t\tthis._markets = await markets;\r\n\t\t})();\r\n\t}\r\n\tstatic get markets(): Promise<Market[]>|Market[] {\r\n\t\treturn new Promise(async (resolve, reject)=>{\r\n\t\t\ttry{\r\n\t\t\t\tif(this._markets){\r\n\t\t\t\t\treturn resolve(this._markets);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet markets: Market[] = await this.rest.getMarkets();\r\n\t\t\t\t\tresolve(markets);\r\n\t\t\t\t}\r\n\t\t\t}catch(err){\r\n\t\t\t\treject(err);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tpublic static INTERVALS: string[] = ['1m', '3m', '15m', '30m', '1h', '2h', '4h', '6h', '8h', '12h', '1d', '3d', '1w'];\r\n\tpublic static candleAPILimits = {\r\n\t\t'1m': 1000,\r\n\t\t'3m': 1000,\r\n\t\t'5m': 1000,\r\n\t\t'15m': 1000,\r\n\t\t'30m': 1000,\r\n\t\t'1h': 1000,\r\n\t\t'2h': 744,\r\n\t\t'4h': 373,\r\n\t\t'6h': 248,\r\n\t\t'8h': 187,\r\n\t\t'12h': 187,\r\n\t\t'1d': 63,\r\n\t\t'3d': 21,\r\n\t\t'1w': 9,\r\n\t};\r\n\tpublic static intervalDays: any = {\r\n\t\t'1m': 6,\r\n\t\t'3m': 3,\r\n\t\t'5m': 8,\r\n\t\t'15m': 20,\r\n\t\t'30m': 30,\r\n\t\t'1h': 55,\r\n\t\t'2h': 100,\r\n\t\t'4h': 200,\r\n\t\t'6h': 350,\r\n\t\t'8h': 400,\r\n\t\t'12h': 500,\r\n\t\t'1d': 1000,\r\n\t\t'3d': 333,\r\n\t\t'1w': 56\r\n\t};\r\n\tpublic static intervalToMilliseconds: any = {\r\n\t\t'1m': 60000,\r\n\t\t'3m': 60000 * 3,\r\n\t\t'5m': 60000 * 5,\r\n\t\t'15m': 60000 * 15,\r\n\t\t'30m': 60000 * 30,\r\n\t\t'1h': 3600000,\r\n\t\t'2h': 3600000 * 2,\r\n\t\t'4h': 3600000 * 4,\r\n\t\t'6h': 3600000 * 6,\r\n\t\t'8h': 3600000 * 8,\r\n\t\t'12h': 3600000 * 12,\r\n\t\t'1d': 3600000 * 24,\r\n\t\t'3d': 3600000 * 24 * 3,\r\n\t\t'1w': 3600000 * 24 * 7\r\n\t};\r\n\tpublic static intervalToMinutes: any = {\r\n\t\t'1m': 1,\r\n\t\t'3m': 3,\r\n\t\t'5m': 5,\r\n\t\t'15m': 15,\r\n\t\t'30m': 30,\r\n\t\t'1h': 60,\r\n\t\t'2h': 60 * 2,\r\n\t\t'4h': 60 * 4,\r\n\t\t'6h': 60 * 6,\r\n\t\t'8h': 60 * 8,\r\n\t\t'12h': 60 * 12,\r\n\t\t'1d': 60 * 24,\r\n\t\t'3d': 60 * 24 * 3,\r\n\t\t'1w': 60 * 24 * 7,\r\n\t\t'1M': 2.628e+9\r\n\t};\r\n\tpublic static millisecondsToInterval: any = {\r\n\t\t60000: '1m',\r\n\t\t180000: '3m',\r\n\t\t300000: '5m',\r\n\t\t900000: '15m',\r\n\t\t1800000: '30m',\r\n\t\t3600000: '1h',\r\n\t\t7200000: '2h',\r\n\t\t14400000: '4h',\r\n\t\t21600000: '6h',\r\n\t\t28800000: '8h',\r\n\t\t43200000: '12h',\r\n\t\t86400000: '1d',\r\n\t\t259200000: '3d',\r\n\t\t604800000: '1w'\r\n\t};\r\n\tpublic static minutesToInterval: any = {\r\n\t\t1: '1m',\r\n\t\t3: '3m',\r\n\t\t5: '5m',\r\n\t\t15: '15m',\r\n\t\t30: '30m',\r\n\t\t60: '1h',\r\n\t\t120: '2h',\r\n\t\t240: '4h',\r\n\t\t360: '6h',\r\n\t\t480: '8h',\r\n\t\t720: '12h',\r\n\t\t1440: '1d',\r\n\t\t4320: '3d',\r\n\t\t10080: '1w'\r\n\t};\r\n\tpublic static options: IBinanceOptions;\r\n\tprivate static _rest: Rest;\r\n\tprivate static _websocket: BotWebsocket;\r\n\r\n\tconstructor(options: IBinanceOptions) {\r\n\t\tBinance.options = options;\r\n\t}\r\n}"]}