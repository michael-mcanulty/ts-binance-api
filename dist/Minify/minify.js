"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const path=require("path"),fs=require("fs"),Walk_1=require("./Walk");class Minify{static execute(){let e,i=require("child_process").execSync,s={},t=path.resolve("./"),n=t.split("/");-1!==n.indexOf("dist")&&(t=n.slice(0,-n.indexOf("dist")).join("/"));let f=`${t}/dist`;if(!fs.existsSync(f)){let e=t.split("/"),i=e.indexOf("node_modules");if(i&&-1!==i){let s=e.slice(0,-i).join("/"),n=`${s}/dist`;s&&fs.existsSync(n)&&(t=s)}}Minify._baseDir=`${t}/dist`,e=`${Minify._baseDir}/Minify`,s.ignore=[e],s.globs=["*/**/*.js"],Minify._walk=new Walk_1.Walk(Minify._baseDir,s),Minify._paths=Minify._walk.sync(),Minify._paths.forEach(e=>{e&&i(`terser dist/${e} --compress --mangle --keep-classnames --keep-fnames --output dist/${e}`)})}}exports.Minify=Minify;